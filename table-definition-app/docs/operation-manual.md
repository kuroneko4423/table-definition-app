# 操作マニュアル

## 1. はじめに

### 1.1 システム概要
テーブル定義管理システムは、データベースのテーブル定義を管理し、ドキュメント化を支援するWebアプリケーションです。

### 1.2 主な機能
- プロジェクト単位でのテーブル管理
- テーブル定義の作成・編集・削除
- カラム定義の詳細設定
- Excel/Markdown/DDL形式でのエクスポート
- 日本語/英語の多言語対応

## 2. アクセス方法

### 2.1 URLアクセス
1. Webブラウザを起動します
2. アドレスバーに以下のURLを入力します
   - 開発環境: `http://localhost:8080`
   - 本番環境: システム管理者から提供されたURL

### 2.2 推奨ブラウザ
- Google Chrome（最新版）
- Mozilla Firefox（最新版）
- Microsoft Edge（最新版）
- Safari（最新版）

## 3. 基本操作

### 3.1 プロジェクト管理

#### 3.1.1 プロジェクト一覧の表示
1. トップページにアクセスすると、プロジェクト一覧が表示されます
2. 各プロジェクトには以下の情報が表示されます：
   - プロジェクト名
   - 説明
   - 作成日時
   - 更新日時

#### 3.1.2 新規プロジェクトの作成
1. プロジェクト一覧画面で「プロジェクト新規作成」ボタンをクリック
2. 以下の情報を入力：
   - **プロジェクト名**（必須）: プロジェクトの名前
   - **説明**（任意）: プロジェクトの詳細説明
3. 「保存」ボタンをクリック
4. 保存成功後、プロジェクト一覧画面に戻り、「プロジェクトを作成しました。」メッセージが表示されます

#### 3.1.3 プロジェクトの編集
1. プロジェクト一覧で編集したいプロジェクトの「編集」ボタンをクリック
2. 必要な情報を修正
3. 「保存」ボタンをクリック

#### 3.1.4 プロジェクトの削除
1. プロジェクト一覧で削除したいプロジェクトの「削除」ボタンをクリック
2. 確認ダイアログで「削除」をクリック
   - **注意**: プロジェクトを削除すると、関連するすべてのテーブル定義も削除されます

### 3.2 テーブル定義管理

#### 3.2.1 テーブル一覧の表示
1. プロジェクト一覧から対象プロジェクトの「テーブル管理」ボタンをクリック、またはプロジェクト名をクリック
2. 選択したプロジェクト内のテーブル一覧が表示されます

#### 3.2.2 新規テーブルの作成
1. テーブル一覧画面で「テーブル新規作成」ボタンをクリック
2. テーブル情報を入力：
   - **スキーマ名**（任意）: データベーススキーマ名
   - **物理名**（必須）: テーブルの物理名（英数字）
   - **論理名**（必須）: テーブルの論理名（日本語可）
   - **説明**（任意）: テーブルの詳細説明

#### 3.2.3 カラム定義の追加
1. テーブル作成/編集画面で「カラム追加」ボタンをクリック
2. カラム情報を入力：
   - **物理名**（必須）: カラムの物理名
   - **論理名**（必須）: カラムの論理名
   - **データ型**（必須）: プルダウンから選択
   - **長さ**（任意）: データの最大長
   - **NULL許可**: チェックでNULL値を許可
   - **プライマリキー**: PKとして設定
   - **ユニークキー**: UKとして設定
   - **デフォルト値**（任意）: 初期値
   - **説明**（任意）: カラムの説明

#### 3.2.4 カラムの削除
1. 削除したいカラムの行末にある「×」ボタンをクリック
2. カラムが即座に削除されます（確認なし）

#### 3.2.5 テーブルの保存
1. すべての必須項目を入力
2. 「保存」ボタンをクリック
3. エラーがある場合は、該当箇所にエラーメッセージが表示されます

### 3.3 エクスポート機能

#### 3.3.1 エクスポート対象の選択
1. テーブル一覧画面で、エクスポートしたいテーブルのラジオボタンを選択
2. 一度に選択できるのは1つのテーブルのみ

#### 3.3.2 Excel形式でのエクスポート
1. テーブルを選択後、「Export to Excel」ボタンをクリック
2. Excel形式（.xlsx）でダウンロードされます
3. ファイル名: `table_definitions_YYYYMMDD_HHmmss.xlsx`

#### 3.3.3 Markdown形式でのエクスポート
1. テーブルを選択後、「Export to Markdown」ボタンをクリック
2. Markdown形式（.md）でダウンロードされます
3. ファイル名: `table_definitions_YYYYMMDD_HHmmss.md`

#### 3.3.4 DDL形式でのエクスポート
1. テーブルを選択後、「Export to DDL」ボタンをクリック
2. SQL DDL形式（.sql）でダウンロードされます
3. ファイル名: `table_definitions_YYYYMMDD_HHmmss.sql`

## 4. 画面説明

### 4.1 プロジェクト一覧画面
```
┌─────────────────────────────────────────┐
│ テーブル定義書管理システム                │
├─────────────────────────────────────────┤
│ プロジェクト一覧                          │
│                                         │
│ [新規プロジェクト作成]                    │
│                                         │
│ ┌─────┬────────┬──────┬─────┬─────┐   │
│ │名前  │説明     │作成日│テーブル│操作  │   │
│ ├─────┼────────┼──────┼─────┼─────┤   │
│ │PJ1  │テスト用  │10/1  │3     │[テーブル管理]│
│ │     │         │      │     │[編集]│   │
│ │     │         │      │     │[削除]│   │
│ └─────┴────────┴──────┴─────┴─────┘   │
└─────────────────────────────────────────┘
```

### 4.2 テーブル一覧画面
```
┌─────────────────────────────────────────┐
│ テーブル定義書管理システム                │
├─────────────────────────────────────────┤
│ プロジェクト一覧 > PJ1                    │
│                                         │
│ PJ1 - テーブル一覧                       │
│                                         │
│ [テーブル新規作成]  [Excel出力]          │
│                    [Markdown出力]       │
│                    [DDL出力]            │
│                                         │
│ ┌──┬────────┬────────┬──────┬─────┐   │
│ │◯│物理名   │論理名   │説明   │操作  │   │
│ ├──┼────────┼────────┼──────┼─────┤   │
│ │◯│users   │ユーザー │ユーザ │[編集]│   │
│ │  │        │        │マスタ │[削除]│   │
│ └──┴────────┴────────┴──────┴─────┘   │
└─────────────────────────────────────────┘
```

### 4.3 テーブル作成/編集画面
```
┌─────────────────────────────────────────┐
│ テーブル定義書管理システム                │
├─────────────────────────────────────────┤
│ プロジェクト一覧 > PJ1 > テーブル作成      │
│                                         │
│ テーブル情報                             │
│ スキーマ名: [          ]                 │
│ 物理名*:   [          ]                 │
│ 論理名*:   [          ]                 │
│ 説明:      [          ]                 │
│                                         │
│ カラム定義                               │
│ [カラムを追加]                           │
│ ┌────────┬────────┬──────┬───┬───┐   │
│ │物理名* │論理名*  │データ型│長さ│... │   │
│ ├────────┼────────┼──────┼───┼───┤   │
│ │id      │ID      │BIGINT│   │...│[×]│
│ └────────┴────────┴──────┴───┴───┘   │
│                                         │
│ [戻る] [保存]                            │
└─────────────────────────────────────────┘
```

## 5. 注意事項

### 5.1 データの保存
- ブラウザの「戻る」ボタンを使用すると、入力内容が失われる可能性があります
- 必ず画面内の「保存」ボタンを使用してください

### 5.2 削除操作
- 削除操作は取り消せません
- プロジェクト削除時は関連するすべてのデータが削除されます

### 5.3 プライマリキー設定
- プライマリキーを設定すると、自動的にNULL許可のチェックが外れます
- 複数のカラムにプライマリキーを設定できます（複合キー）

### 5.4 エクスポート
- エクスポート前に必ずテーブルを選択してください
- 選択していない場合はエラーメッセージが表示されます

## 6. トラブルシューティング

### 6.1 画面が表示されない
- URLが正しいか確認してください
- ネットワーク接続を確認してください
- ブラウザのキャッシュをクリアしてください

### 6.2 保存できない
- 必須項目（*印）がすべて入力されているか確認してください
- 重複するプロジェクト名・テーブル名がないか確認してください

### 6.3 エクスポートできない
- テーブルが選択されているか確認してください
- ブラウザのポップアップブロックを無効にしてください

### 6.4 文字化けする
- ブラウザの文字エンコーディングがUTF-8になっているか確認してください

### 6.5 メッセージが表示されない
- ブラウザのキャッシュをクリアしてください
- 日本語メッセージファイルが正しく配置されているか確認してください

## 7. よくある質問（FAQ）

**Q1: 一度削除したデータを復元できますか？**
A: いいえ、削除したデータは復元できません。削除前に必要に応じてエクスポートしてバックアップを取ってください。

**Q2: 複数のテーブルを一度にエクスポートできますか？**
A: 現在のバージョンでは、一度に1つのテーブルのみエクスポート可能です。

**Q3: カラムの順序を変更できますか？**
A: テーブル編集画面で、カラムを削除して再度追加することで順序を変更できます。

**Q4: 既存のデータベースからテーブル定義をインポートできますか？**
A: 現在のバージョンではインポート機能はありません。手動で入力してください。

## 8. お問い合わせ

システムに関するお問い合わせは、システム管理者までご連絡ください。